# 遊戲技能描述對比分析工具

這是一個專門為遊戲公司設計的技能描述對比分析工具，使用 GPT-4o-mini 來分析技能描述的前後版本差異。

## 功能特色

- 🔍 **智能對比分析**：使用 GPT-4o-mini 深度分析技能描述差異
- 📝 **內容一致性檢查**：確保新舊版本技能內容相同
- 🎯 **合理性分析**：檢查描述是否符合遊戲邏輯
- 📚 **中文文法檢查**：改善語句通順度和用詞準確性
- 💾 **結果保存**：自動保存分析結果到本地文件
- 🎨 **現代化界面**：美觀易用的網頁界面

## 安裝與設置

### 1. 安裝依賴

```bash
pip install -r requirements.txt
```

### 2. 獲取 OpenAI API Key

1. 前往 [OpenAI Platform](https://platform.openai.com/)
2. 註冊或登入帳戶
3. 在 API Keys 頁面創建新的 API Key
4. 複製 API Key（格式：sk-...）

### 3. 運行應用（本地）

```bash
python app.py
```

應用將在 `http://localhost:5000` 啟動

### 4. 公網部署

#### 方案A：Render（免架設伺服器）
1. 將 `skilltranslation/` 目錄推到你的 Git 倉庫
2. 登入 Render，新增 Web Service，來源選該倉庫的 `skilltranslation/`
3. 選擇 Docker，Render 會讀取 `render.yaml` 與 `Dockerfile`
4. 部署成功後，於 Render 設定環境變數：
   - `OPENAI_API_KEY`: 你的 API Key（也可在頁面上輸入）
   - `PORT`: 10000（Render 會覆寫成實際分配）
5. 取得公開 URL，即可分享使用

#### 方案B：Docker + 雲端主機（自帶伺服器）
```bash
cd skilltranslation
docker build -t skill-compare:latest .
docker run -e PORT=5000 -p 5000:5000 skill-compare:latest
```
打開 `http://<你的伺服器IP>:5000`

## 使用方法

### 1. 輸入 API Key
- 在頁面頂部的 API Key 輸入框中輸入您的 OpenAI API Key
- 可以點擊眼睛圖標來切換顯示/隱藏 API Key

### 2. 輸入技能描述
- **舊版本描述**：輸入原始的技能描述
- **新版本描述**：輸入修改後的技能描述
- 系統會自動統計字數

### 3. 開始分析
- 點擊「開始分析」按鈕
- 系統會使用 GPT-4o-mini 進行深度分析
- 分析過程會顯示載入動畫

### 4. 查看結果
分析結果包含以下幾個方面：

#### 內容一致性檢查
- 兩個版本的技能內容是否相同
- 是否有遺漏或新增的技能效果
- 數值、條件、觸發機制是否一致

#### 描述合理性分析
- 新描述是否符合遊戲邏輯
- 是否有描述不清晰或矛盾的地方
- 技能效果描述是否完整

#### 中文文法檢查
- 語句是否通順
- 用詞是否準確
- 是否有語法錯誤
- 標點符號使用是否正確

#### 建議改進
- 針對發現的問題提供具體改進建議
- 提供更優雅的表達方式

### 5. 保存結果
- 點擊「保存分析結果」按鈕
- 分析結果會保存到 `analysis_logs` 目錄
- 文件名格式：`skill_analysis_YYYYMMDD_HHMMSS.json`

## 分析範例

### 輸入範例

**舊版本描述：**
```
火球術：對目標造成150點魔法傷害，並有30%機率造成燃燒效果，持續3回合。
```

**新版本描述：**
```
火球術：對敵方目標造成150點魔法傷害，30%機率附加燃燒狀態，持續3個回合。
```

### 分析結果範例

```
1. 內容一致性檢查：
   ✅ 技能內容基本一致
   ✅ 傷害數值相同（150點）
   ✅ 觸發機率相同（30%）
   ✅ 持續時間相同（3回合）

2. 描述合理性分析：
   ✅ 新描述更清晰明確
   ✅ 使用「敵方目標」比「目標」更準確
   ✅ 「燃燒狀態」比「燃燒效果」更專業

3. 中文文法檢查：
   ✅ 語句通順
   ✅ 用詞準確
   ⚠️ 「3個回合」可以簡化為「3回合」

4. 建議改進：
   - 建議將「3個回合」改為「3回合」以保持簡潔
   - 整體描述改進良好，更符合遊戲術語規範
```

## 注意事項

1. **API 費用**：使用 GPT-4o-mini 會產生 API 費用，請注意使用量
2. **網路連接**：需要穩定的網路連接來調用 OpenAI API
3. **API Key 安全**：請妥善保管您的 API Key，不要分享給他人
4. **分析時間**：根據描述長度，分析可能需要 10-30 秒

## 技術架構

- **後端**：Flask (Python)
- **前端**：HTML5 + CSS3 + JavaScript + Bootstrap 5
- **AI 分析**：OpenAI GPT-4o-mini API
- **數據存儲**：本地 JSON 文件

## 目錄結構

```
skilltranslation/
├── app.py              # Flask 應用主文件
├── requirements.txt    # Python 依賴
├── README.md          # 使用說明
├── templates/         # HTML 模板
│   └── index.html     # 主頁面
└── analysis_logs/     # 分析結果保存目錄（自動創建）
```

## 故障排除

### 常見問題

1. **API Key 錯誤**
   - 確保 API Key 格式正確（以 sk- 開頭）
   - 檢查 API Key 是否有效且有足夠餘額

2. **網路連接問題**
   - 檢查網路連接是否正常
   - 確認可以訪問 OpenAI API

3. **分析失敗**
   - 檢查輸入的描述是否為空
   - 確認描述格式正確

### 錯誤代碼

- `401 Unauthorized`：API Key 無效
- `429 Too Many Requests`：API 請求過於頻繁
- `500 Internal Server Error`：服務器內部錯誤

## 更新日誌

### v1.0.0 (2024-01-XX)
- 初始版本發布
- 支持技能描述對比分析
- 集成 GPT-4o-mini API
- 現代化網頁界面

## 聯繫方式

如有問題或建議，請聯繫開發團隊。

---

**注意**：此工具僅供內部使用，請勿外傳。
